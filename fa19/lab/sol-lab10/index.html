<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS88: Computational Structures in Data Science" />
    <meta name="keywords" content ="CS88, Computer Science, Data Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Michael Ball, Amir Shahatit, Alex Kassil, Lyric Yu, Julia Yu, Srinath Goli, Sophia Qin, Brian Mi, Alec Kan, John Yang" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/fa19/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/fa19/assets/css/style.css">
    <link rel="icon" href="/fa19/assets/images/favicon.ico">
    <link rel="stylesheet" href="/fa19/assets/css/mono-blue.css">

    <link rel="stylesheet" type="text/css" href="/fa19/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="../../assets/css/lab.css"/>


    <title>Lab 10 Solutions | CS 88 Fall 2019</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Nav Menu" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/fa19/">CS 88</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/fa19/">Calendar</a></li>
            <li><a href="/fa19/articles/resources.html">Resources</a></li>
            <li><a href="/fa19/weekly-schedule.html">Weekly Schedule</a></li>
            <li><a href="/fa19/articles/about.html">Course Information</a></li>
            <li><a href="/fa19/staff.html">Staff</a></li>
            <!--- <li><a href="/fa19/tutoring.html">Tutoring</a></li> -->
          </ul>
        </div>
      </div>
    </nav>

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <h1><span class="content-title-brand">Lab 10</span> Solutions</h1>
    </div>

    

    


<h2 id="inheritance">Inheritance</h2>


<p>Let's implement a game called Election. In this game, two players compete to try
and earn the most votes. Both players start with 0 votes and 100 popularity.</p>

<p>The two players alternate turns, and the first player starts. Each turn, the
current player chooses an action. There are two types of actions:</p>

<ul>
  <li>The player can debate, and either gain or lose 50 popularity. If the player
  has popularity <code>p1</code> and the other player has popularity <code>p2</code>, then the
  probability that the player gains 50 popularity is <code>max(0.1, p1 / (p1 + p2))</code>
  Note that the <code>max</code> causes the probability to never be lower than 0.1.</li>
  <li>The player can give a speech. If the player has popularity <code>p1</code> and the other
  player has popularity <code>p2</code>, then the player gains <code>p1 // 10</code> votes and
  popularity and the other player loses <code>p2 // 10</code> popularity.</li>
</ul>

<p>The game ends when a player reaches 50 votes, or after a total of 10 turns have
been played (each player has taken 5 turns). Whoever has more votes at the end
of the game is the winner!</p>

<h3 class="question" id="q1">Question 1: Player</h3>

<p>First, let's implement the <code>Player</code> class. Fill in the <code>debate</code> and <code>speech</code>
methods, that take in another <code>Player</code> <code>other</code>, and implement the correct
behavior as detailed above. Here are two additional things to keep in mind:</p>

<ul>
  <li>In the <code>debate</code> method, you should call the provided <code>random</code> function, which
  returns a random float between 0 and 1. The player should gain 50 popularity if
  the random number is smaller than the probability described above, and lose 50
  popularity otherwise.</li>
  <li>Neither players' votes or popularity should ever become negative. If this
  happens, set it equal to 0 instead.</li>
  <li>This problem has additional hidden doc tests that will test full correctness.</li>
</ul>



<pre><code>### Phase 1: The Player Class
class Player:
    &quot;&quot;&quot;
    &gt;&gt;&gt; random = make_test_random()
    &gt;&gt;&gt; p1 = Player(&#x27;Hill&#x27;)
    &gt;&gt;&gt; p2 = Player(&#x27;Don&#x27;)
    &gt;&gt;&gt; p1.popularity
    100
    &gt;&gt;&gt; p1.debate(p2)  # random() should return 0.0
    &gt;&gt;&gt; p1.popularity
    150
    &gt;&gt;&gt; p2.popularity
    100
    &gt;&gt;&gt; p2.votes
    0
    &gt;&gt;&gt; p2.speech(p1)
    &gt;&gt;&gt; p2.votes
    10
    &gt;&gt;&gt; p2.popularity
    110
    &gt;&gt;&gt; p1.popularity
    135

<div class="solution 1">&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x23;&#x20;&#x41;&#x64;&#x64;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x63;&#x6f;&#x72;&#x72;&#x65;&#x63;&#x74;&#x6e;&#x65;&#x73;&#x73;&#x20;&#x74;&#x65;&#x73;&#x74;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x73;&#x70;&#x65;&#x65;&#x63;&#x68;&#x28;&#x70;&#x32;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x31;&#x33;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x31;&#x34;&#x38;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x31;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x39;&#x39;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x5f;&#x20;&#x69;&#x6e;&#x20;&#x72;&#x61;&#x6e;&#x67;&#x65;&#x28;&#x34;&#x29;&#x3a;&#x20;&#x20;&#x23;&#x20;&#x30;&#x2e;&#x31;&#x2c;&#x20;&#x30;&#x2e;&#x32;&#x2c;&#x20;&#x30;&#x2e;&#x33;&#x2c;&#x20;&#x30;&#x2e;&#x34;&#xa;&#x20;&#x20;&#x20;&#x20;&#x2e;&#x2e;&#x2e;&#x20;&#x20;&#x20;&#x20;&#x20;&#x70;&#x31;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#x28;&#x70;&#x32;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#x28;&#x70;&#x31;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x34;&#x39;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#x28;&#x70;&#x31;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x30;&#xa;</div>    &quot;&quot;&quot;
    def __init__(self, name):
        self.name = name
        self.votes = 0
        self.popularity = 100

    def debate(self, other):
<div class="alt 1">        "*** YOUR CODE HERE ***"
</div><div class="solution 1">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x70;&#x72;&#x6f;&#x62;&#x20;&#x3d;&#x20;&#x6d;&#x61;&#x78;&#x28;&#x30;&#x2e;&#x31;&#x2c;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2f;&#x20;&#x28;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2b;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x29;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x72;&#x61;&#x6e;&#x64;&#x6f;&#x6d;&#x28;&#x29;&#x20;&#x3c;&#x20;&#x70;&#x72;&#x6f;&#x62;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2b;&#x3d;&#x20;&#x35;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x3d;&#x20;&#x6d;&#x61;&#x78;&#x28;&#x30;&#x2c;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2d;&#x20;&#x35;&#x30;&#x29;</div>
    def speech(self, other):
<div class="alt 1">        "*** YOUR CODE HERE ***"
</div><div class="solution 1">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x20;&#x2b;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2f;&#x2f;&#x20;&#x31;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2b;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2f;&#x2f;&#x20;&#x31;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2d;&#x3d;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2f;&#x2f;&#x20;&#x31;&#x30;</div>
    def choose(self, other):
        return self.speech</code></pre>


    <button id='1' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Player</code></pre>

<h3 class="question" id="q2">Question 2: Game</h3>

<p>Now, implement the <code>Game</code> class. Fill in the <code>play</code> method, which should
alternate between the two players, starting with <code>p1</code>, and have each player take
one turn at a time. The <code>choose</code> method in the <code>Player</code> class returns the
method, either <code>debate</code> or <code>speech</code>, that should be called to perform the
action.</p>

<p>In addition, fill in the <code>winner</code> property method, which should return the
player with more votes, or <code>None</code> if the players are tied.
This problem has additional hidden doc tests that will test full correctness.</p>



<pre><code>### Phase 2: The Game Class
class Game:
    &quot;&quot;&quot;
    &gt;&gt;&gt; p1, p2 = Player(&#x27;Hill&#x27;), Player(&#x27;Don&#x27;)
    &gt;&gt;&gt; g = Game(p1, p2)
    &gt;&gt;&gt; winner = g.play()
    &gt;&gt;&gt; p1 is winner
    True

<div class="solution 2">&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x23;&#x20;&#x41;&#x64;&#x64;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x63;&#x6f;&#x72;&#x72;&#x65;&#x63;&#x74;&#x6e;&#x65;&#x73;&#x73;&#x20;&#x74;&#x65;&#x73;&#x74;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x77;&#x69;&#x6e;&#x6e;&#x65;&#x72;&#x20;&#x69;&#x73;&#x20;&#x67;&#x2e;&#x77;&#x69;&#x6e;&#x6e;&#x65;&#x72;&#xa;&#x20;&#x20;&#x20;&#x20;&#x54;&#x72;&#x75;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x67;&#x2e;&#x74;&#x75;&#x72;&#x6e;&#xa;&#x20;&#x20;&#x20;&#x20;&#x31;&#x30;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x20;&#x3d;&#x20;&#x70;&#x32;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x28;&#x67;&#x2e;&#x77;&#x69;&#x6e;&#x6e;&#x65;&#x72;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x4e;&#x6f;&#x6e;&#x65;&#xa;</div>    &quot;&quot;&quot;
    def __init__(self, player1, player2):
        self.p1 = player1
        self.p2 = player2
        self.turn = 0

    def play(self):
        while not self.game_over:
<div class="alt 2">            "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x25;&#x20;&#x32;&#x20;&#x3d;&#x3d;&#x20;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x63;&#x75;&#x72;&#x72;&#x2c;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x20;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x31;&#x2c;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x32;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x63;&#x75;&#x72;&#x72;&#x2c;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x20;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x32;&#x2c;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x63;&#x75;&#x72;&#x72;&#x2e;&#x63;&#x68;&#x6f;&#x6f;&#x73;&#x65;&#x28;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x29;&#x28;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x2b;&#x3d;&#x20;&#x31;</div>        return self.winner

    @property
    def game_over(self):
        return max(self.p1.votes, self.p2.votes) &gt;= 50 or self.turn &gt;= 10

    @property
    def winner(self):
<div class="alt 2">        "*** YOUR CODE HERE ***"
</div><div class="solution 2">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x31;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x20;&#x3e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x32;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x69;&#x66;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x32;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x20;&#x3e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x31;&#x2e;&#x76;&#x6f;&#x74;&#x65;&#x73;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x32;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x4e;&#x6f;&#x6e;&#x65;</div></code></pre>


    <button id='2' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Game</code></pre>

<h3 class="question" id="q3">Question 3: New Players</h3>

<p>The <code>choose</code> method in the <code>Player</code> class is boring, because it always returns
the <code>speech</code> method. Let's implement two new classes that inherit from <code>Player</code>,
but have more interesting <code>choose</code> methods.</p>

<p>Implement the <code>choose</code> method in the <code>AggressivePlayer</code> class, which returns the
<code>debate</code> method if the player's popularity is less than or equal to <code>other</code>'s
popularity, and <code>speech</code> otherwise. Also implement the <code>choose</code> method in the
<code>CautiousPlayer</code> class, which returns the <code>debate</code> method if the player's
popularity is 0, and <code>speech</code> otherwise.
This problem has additional hidden doc tests that will test full correctness.</p>



<pre><code>### Phase 3: New Players
class AggressivePlayer(Player):
    &quot;&quot;&quot;
    &gt;&gt;&gt; random = make_test_random()
    &gt;&gt;&gt; p1, p2 = AggressivePlayer(&#x27;Don&#x27;), Player(&#x27;Hill&#x27;)
    &gt;&gt;&gt; g = Game(p1, p2)
    &gt;&gt;&gt; winner = g.play()
    &gt;&gt;&gt; p1 is winner
    True

<div class="solution 3">&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x23;&#x20;&#x41;&#x64;&#x64;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x63;&#x6f;&#x72;&#x72;&#x65;&#x63;&#x74;&#x6e;&#x65;&#x73;&#x73;&#x20;&#x74;&#x65;&#x73;&#x74;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x3d;&#x20;&#x70;&#x32;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x63;&#x68;&#x6f;&#x6f;&#x73;&#x65;&#x28;&#x70;&#x32;&#x29;&#x20;&#x3d;&#x3d;&#x20;&#x70;&#x31;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x54;&#x72;&#x75;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x2b;&#x3d;&#x20;&#x31;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x31;&#x2e;&#x63;&#x68;&#x6f;&#x6f;&#x73;&#x65;&#x28;&#x70;&#x32;&#x29;&#x20;&#x3d;&#x3d;&#x20;&#x70;&#x31;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x46;&#x61;&#x6c;&#x73;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x63;&#x68;&#x6f;&#x6f;&#x73;&#x65;&#x28;&#x70;&#x31;&#x29;&#x20;&#x3d;&#x3d;&#x20;&#x70;&#x32;&#x2e;&#x73;&#x70;&#x65;&#x65;&#x63;&#x68;&#xa;&#x20;&#x20;&#x20;&#x20;&#x54;&#x72;&#x75;&#x65;&#xa;</div>    &quot;&quot;&quot;
    def choose(self, other):
<div class="alt 3">        "*** YOUR CODE HERE ***"
</div><div class="solution 3">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x3c;&#x3d;&#x20;&#x6f;&#x74;&#x68;&#x65;&#x72;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x73;&#x70;&#x65;&#x65;&#x63;&#x68;</div>
class CautiousPlayer(Player):
    &quot;&quot;&quot;
    &gt;&gt;&gt; random = make_test_random()
    &gt;&gt;&gt; p1, p2 = CautiousPlayer(&#x27;Hill&#x27;), AggressivePlayer(&#x27;Don&#x27;)
    &gt;&gt;&gt; p1.popularity = 0
    &gt;&gt;&gt; p1.choose(p2) == p1.debate
    True
    &gt;&gt;&gt; p1.popularity = 1
    &gt;&gt;&gt; p1.choose(p2) == p1.debate
    False

<div class="solution 3">&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x23;&#x20;&#x41;&#x64;&#x64;&#x69;&#x74;&#x69;&#x6f;&#x6e;&#x61;&#x6c;&#x20;&#x63;&#x6f;&#x72;&#x72;&#x65;&#x63;&#x74;&#x6e;&#x65;&#x73;&#x73;&#x20;&#x74;&#x65;&#x73;&#x74;&#x73;&#xa;&#x20;&#x20;&#x20;&#x20;&#x3e;&#x3e;&#x3e;&#x20;&#x70;&#x32;&#x2e;&#x63;&#x68;&#x6f;&#x6f;&#x73;&#x65;&#x28;&#x70;&#x31;&#x29;&#x20;&#x3d;&#x3d;&#x20;&#x70;&#x32;&#x2e;&#x73;&#x70;&#x65;&#x65;&#x63;&#x68;&#xa;&#x20;&#x20;&#x20;&#x20;&#x54;&#x72;&#x75;&#x65;&#xa;</div>    &quot;&quot;&quot;
    def choose(self, other):
<div class="alt 3">        "*** YOUR CODE HERE ***"
</div><div class="solution 3">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x70;&#x6f;&#x70;&#x75;&#x6c;&#x61;&#x72;&#x69;&#x74;&#x79;&#x20;&#x3d;&#x3d;&#x20;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x64;&#x65;&#x62;&#x61;&#x74;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x73;&#x70;&#x65;&#x65;&#x63;&#x68;</div></code></pre>


    <button id='3' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q AggressivePlayer
python3 ok -q CautiousPlayer</code></pre>

<h3 class="question" id="q4">Question 4: Quidditch</h3>

<p>It's time for the opening quidditch match of the season! We represent the various positions for players with the <code>QuidditchPlayer</code> class and its subclasses. Every player begins with a <code>base_energy</code> level, but every position requires a different proportion of energy. Fill in the <code>energy</code> method for the <code>Beater</code>, <code>Chaser</code>, <code>Seeker</code>, and <code>Keeper</code> classes, according to their docstrings. In addition, fill in the <code>__init__</code> method for the <code>Chaser</code> class.</p>

<div class="solution 4">

<pre><code>class Player:
    def __init__(self, name, base_energy):
        &quot;&quot;&quot;
        Players have a name, and begin with base_energy.
        &quot;&quot;&quot;
        self.name = name
        self.base_energy = base_energy

    def energy(self):
        return self.base_energy</code></pre>

</div>
    <button id='4' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    



<pre><code>class Beater(QuidditchPlayer):
    role = &quot;bludgers&quot;

    def energy(self, time):
        &quot;&quot;&quot;
        Returns the amount of energy left after playing for time minutes. 
        After playing for time minutes, Beaters lose their base energy level 
        divided by the number of minutes. If time is 0, catch the ZeroDivisionError 
        and print &quot;You can&#x27;t divide by zero!&quot; instead.
        &gt;&gt;&gt; fred = Beater(&quot;Fred Weasley&quot;, 640)
        &gt;&gt;&gt; fred.energy(40)
        624.0
        &gt;&gt;&gt; fred.energy(0)
        You can&#x27;t divide by zero!
        &quot;&quot;&quot;
<div class="alt 5">        "*** YOUR CODE HERE ***"
        
</div><div class="solution 5">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x74;&#x72;&#x79;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x9;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2f;&#x20;&#x74;&#x69;&#x6d;&#x65;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x78;&#x63;&#x65;&#x70;&#x74;&#x20;&#x5a;&#x65;&#x72;&#x6f;&#x44;&#x69;&#x76;&#x69;&#x73;&#x69;&#x6f;&#x6e;&#x45;&#x72;&#x72;&#x6f;&#x72;&#x20;&#x61;&#x73;&#x20;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x9;&#x70;&#x72;&#x69;&#x6e;&#x74;&#x28;&#x22;&#x59;&#x6f;&#x75;&#x20;&#x63;&#x61;&#x6e;&#x27;&#x74;&#x20;&#x64;&#x69;&#x76;&#x69;&#x64;&#x65;&#x20;&#x62;&#x79;&#x20;&#x7a;&#x65;&#x72;&#x6f;&#x21;&#x22;&#x29;</div></code></pre>


    <button id='5' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Beater.energy</code></pre>



<pre><code>class Chaser(QuidditchPlayer):
    role = &quot;score&quot;
    energy_expended = 20

    def __init__(self, name, base_energy, goals):
        &quot;&quot;&quot;
        Chasers have a name, score goals, and begin with base_energy.
        &quot;&quot;&quot;
<div class="alt 6">        "*** YOUR CODE HERE ***"
        
</div><div class="solution 6">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x6e;&#x61;&#x6d;&#x65;&#x20;&#x3d;&#x20;&#x6e;&#x61;&#x6d;&#x65;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x67;&#x6f;&#x61;&#x6c;&#x73;&#x20;&#x3d;&#x20;&#x67;&#x6f;&#x61;&#x6c;&#x73;</div>
    def energy(self, time):
        &quot;&quot;&quot;
        Returns the amount of energy left after playing for time minutes. For every goal 
        they score, they use energy_expended units of energy. In addition, they also use 
        10% of energy_expended if the number of minutes they have played is a multiple of 9.
        &gt;&gt;&gt; katie = Chaser(&quot;Katie Bell&quot;, 230, 2)
        &gt;&gt;&gt; katie.energy(20)
        190
        &gt;&gt;&gt; ginny = Chaser(&quot;Ginny Weasley&quot;, 400, 3)
        &gt;&gt;&gt; ginny.energy(45)
        338.0
        &quot;&quot;&quot;
<div class="alt 6">        "*** YOUR CODE HERE ***"
        
</div><div class="solution 6">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x74;&#x69;&#x6d;&#x65;&#x20;&#x25;&#x20;&#x39;&#x20;&#x3d;&#x3d;&#x20;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x30;&#x2e;&#x31;&#x20;&#x2a;&#x20;&#x43;&#x68;&#x61;&#x73;&#x65;&#x72;&#x2e;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x5f;&#x65;&#x78;&#x70;&#x65;&#x6e;&#x64;&#x65;&#x64;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x67;&#x6f;&#x61;&#x6c;&#x73;&#x20;&#x2a;&#x20;&#x43;&#x68;&#x61;&#x73;&#x65;&#x72;&#x2e;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x5f;&#x65;&#x78;&#x70;&#x65;&#x6e;&#x64;&#x65;&#x64;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x67;&#x6f;&#x61;&#x6c;&#x73;&#x20;&#x2a;&#x20;&#x43;&#x68;&#x61;&#x73;&#x65;&#x72;&#x2e;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x5f;&#x65;&#x78;&#x70;&#x65;&#x6e;&#x64;&#x65;&#x64;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;</div></code></pre>


    <button id='6' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Chaser.energy</code></pre>



<pre><code>class Seeker(QuidditchPlayer):
    role = &quot;snitch&quot;
    energy_expended = 5

    def energy(self, time):
        &quot;&quot;&quot;
        Returns the amount of energy after time minutes. Seekers expend energy_expended 
        units of their energy for every minute they have been playing.
        &gt;&gt;&gt; harry = Seeker(&quot;Harry Potter&quot;, 700)
        &gt;&gt;&gt; harry.energy(30)
        550
        &quot;&quot;&quot;
<div class="alt 7">        "*** YOUR CODE HERE ***"
        
</div><div class="solution 7">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x74;&#x69;&#x6d;&#x65;&#x20;&#x2a;&#x20;&#x53;&#x65;&#x65;&#x6b;&#x65;&#x72;&#x2e;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x5f;&#x65;&#x78;&#x70;&#x65;&#x6e;&#x64;&#x65;&#x64;&#x29;</div></code></pre>


    <button id='7' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Seeker.energy</code></pre>



<pre><code>class Keeper(QuidditchPlayer):
    role = &quot;guard&quot;
    energy_expended = 50

    def energy(self, time):
        &quot;&quot;&quot;
        Returns the amount of energy after time minutes. If less than 30 minutes have 
        passed, then Keepers do not lose any energy. If 30 minutes or more have passed, 
        then Keepers expend 80% of their energy_expended units for every full 15 
        minutes that pass.
        &gt;&gt;&gt; oliver = Keeper(&quot;Oliver Wood&quot;, 380)
        &gt;&gt;&gt; oliver.energy(45)
        260.0
        &quot;&quot;&quot;
<div class="alt 8">        "*** YOUR CODE HERE ***"
        
</div><div class="solution 8">&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x69;&#x66;&#x20;&#x74;&#x69;&#x6d;&#x65;&#x20;&#x3c;&#x20;&#x33;&#x30;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x73;&#x65;&#x6c;&#x66;&#x2e;&#x62;&#x61;&#x73;&#x65;&#x5f;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6c;&#x73;&#x65;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x66;&#x6f;&#x72;&#x20;&#x69;&#x20;&#x69;&#x6e;&#x20;&#x72;&#x61;&#x6e;&#x67;&#x65;&#x28;&#x74;&#x69;&#x6d;&#x65;&#x20;&#x2f;&#x2f;&#x20;&#x31;&#x35;&#x29;&#x3a;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x3d;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x20;&#x2d;&#x20;&#x28;&#x30;&#x2e;&#x38;&#x20;&#x2a;&#x20;&#x4b;&#x65;&#x65;&#x70;&#x65;&#x72;&#x2e;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;&#x5f;&#x65;&#x78;&#x70;&#x65;&#x6e;&#x64;&#x65;&#x64;&#x29;&#xa;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x20;&#x72;&#x65;&#x74;&#x75;&#x72;&#x6e;&#x20;&#x65;&#x6e;&#x65;&#x72;&#x67;&#x79;</div></code></pre>


    <button id='8' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>Use OK to test your code:</p><pre><code>python3 ok -q Keeper.energy</code></pre>

<p>After you finish implementing the QuidditchPlayers, run the following command in your terminal to play the game:</p>

<pre><code>python3 &#x2d;i quidditch_game.py</code></pre>


<h2 id="preparing-for-project-2-debugging">Preparing for Project 2: Debugging</h2>


<h3 class="question" id="q5">Question 5: Werewolf</h3>

<p>Now, you want to play a game, inspired by Werewolf, with a group of your friends. A <code>Pl88yer</code> can either be a <code>Werewolf</code>, or a <code>Villager</code>. In this game, you can have 4 or more players. The first 2 players are automatically designated to be Werewolves, while everyone else is assigned to be a Villager. One play of the game involves all of the players voting for a player who they believe to be a Werewolf; in this implementation, all players, except yourself, arbitrarily vote for themselves. At the end of each play, the player with the most votes is removed from the game. Each play of the game alternates between daytime and nighttime. If it is nighttime, only votes by werewolves count.</p>

<p>The game ends when there are no werewolves left, which means the villagers won, or when there are more werewolves than villagers, which means the werewolves have won.</p>

<p>However, there are bugs in the code for the game! Read through the code and fix all of the bugs so that the game can work properly. As hint, there are at least four bugs in the code! For this lab there is a <strong>hidden</strong> test. In other words, we will be running a test against your code that you don't have access to, so make sure to be thorough! You should not need to add any lines - only edit existing lines.</p>

<pre><code>def get_most_common_element(lst):
    return max(set(lst), key=lst.count)

class Pl88yer:
    def __init__(self, name):
        self.name = name
        self.active = True

class Werewolf(Pl88yer):
    def __init__(self, name):
        Pl88yer.__init__(self, name)

    def reveal_player_type(self):
        print(&quot;You are a werewolf!&quot;)

class Villager(Pl88yer):
    def __init__(self, name):
        Villager.__init__(self, name)    

    def reveal_player_type(self):
        print(&quot;You are a villager!&quot;)

class WerewolfGame:
    def __init__(self, players, your_name):
        &quot;&quot;&quot;
        Sets the game up. players is a list of strings that are names of all 
        of the players. your_name is a string and must be one of the players.
        &gt;&gt;&gt; game = WerewolfGame([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], &quot;a&quot;)
        You are a werewolf!
        &gt;&gt;&gt; game.your_name
        &#x27;a&#x27;
        &gt;&gt;&gt; game.play(&quot;b&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; len(game.werewolves)
        1
        &gt;&gt;&gt; len(game.villagers)
        4
        &gt;&gt;&gt; game.play(&quot;c&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; game.play(&quot;d&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; game.play(&quot;a&quot;)
        &#x27;Villagers win!&#x27;
        &gt;&gt;&gt; game.werewolves
        []
        &gt;&gt;&gt; len(game.villagers)
        2
        &quot;&quot;&quot;
        if len(players) &lt; 4:
            raise Exception(&quot;Not enough players!&quot;)
        names = players[0:2]
        self.your_name = your_name
        self.werewolves = [Werewolf(self, w) for w in names]
        self.villagers = [Villager(self, p) for p in players if p not in names]
        self.name_to_player = {}

        for werewolf in self.werewolves:
            self.name_to_player[werewolf.name] = werewolf

        for villager in self.villagers:
            self.name_to_player[villager.name] = villager

        player = self.name_to_player[your_name]
        player.reveal_player_type()

        self.state = &quot;night&quot;

    def play(self, vote):
        &quot;&quot;&quot;
        While the game is still being played, make a move. vote is the player 
        who you vote for, because you believe they are on the opposing team. 
        You can continue playing until either the villagers or the werewolves win.
        &quot;&quot;&quot;
        self.make_move(vote)
        if not self.check_if_end_of_game():
            return &quot;Keep playing!&quot;
        else:
            if len(self.werewolves) == 0:
                return &quot;Villagers win!&quot;
            elif len(self.werewolves) &gt; len(self.villagers):
                return &quot;Werewolves win!&quot;

    def make_move(self, vote):
        &quot;&quot;&quot;
        Every player votes (players arbitrarily vote for themselves). Then, 
        if the state of the game is day, remove the player with the most votes 
        overall, and set the state to night. If the state of the game is night, 
        remove the player with the most votes by werewolves, and set the state to day.
        &quot;&quot;&quot;
        votes = []
        werewolf_votes = []

        if self.state == &quot;night&quot;:
            werewolf_votes.append(vote)
        votes.append(vote)

        for player in self.name_to_player:
            if self.state == &quot;night&quot; and isinstance(player, Werewolf(name)):
                werewolf_votes.append(player)
            votes.append(player)

        if self.state == &quot;day&quot;:
            majority_vote = get_most_common_element(votes)
            self.state = &quot;night&quot;
        elif self.state == &quot;night&quot;:
            majority_vote = get_most_common_element(werewolf_votes)
            self.state = &quot;day&quot;

        if majority_vote in self.name_to_player:
            self.remove_player(majority_vote)
        else:
            raise Exception(&quot;Invalid player.&quot;)

    def remove_player(player_to_remove):
        &quot;&quot;&quot;
        Set the player with the majority vote to inactive, and remove it from 
        its respective list of players.
        &quot;&quot;&quot;
        player = self.name_to_player[player_to_remove]
        self.active = False

        if player in self.werewolves:
            self.werewolves.remove(player)
        elif player in self.villagers:
            self.villagers.remove(player)
        else:
            print(&quot;Player already removed!&quot;)

    def check_if_end_of_game(self):
        &quot;&quot;&quot;
        Returns True if the game is over, and False if it is not. The game is over when 
        there are no werewolves remaining, or if there are more werewolves than villagers.
        &quot;&quot;&quot;

        if len(WerewolfGame.werewolves) == 0:
            return True
        elif len(WerewolfGame.werewolves) &gt; len(WerewolfGame.villagers):
            return True
        else:
            return False</code></pre>

<p>Run the following command in your terminal to play around with your code:</p>

<pre><code>python3 &#x2d;i lab10.py</code></pre>

<p>After running the above command, enter the below line to actually start a game and play through the code that you've debugged. We highly recommend you do this a couple times to test your code and make sure it's bug free. If you need a refresher on the commands for interacting with the game, refer to the doctests for this question!</p>

<pre><code>game = WerewolfGame([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], &quot;a&quot;)</code></pre>

<div class="solution 9">

<pre><code>def get_most_common_element(lst):
    return max(set(lst), key=lst.count)

class Pl88yer:
    def __init__(self, name):
        self.name = name
        self.active = True

class Werewolf(Pl88yer):
    def __init__(self, name):
        Pl88yer.__init__(self, name)

    def reveal_player_type(self):
        print(&quot;You are a werewolf!&quot;)

class Villager(Pl88yer):
    def __init__(self, name):
        Villager.__init__(self, name)    

    def reveal_player_type(self):
        print(&quot;You are a villager!&quot;)

class WerewolfGame:
    def __init__(self, players, your_name):
        &quot;&quot;&quot;
        Sets the game up. players is a list of strings that are names of all 
        of the players. your_name is a string and must be one of the players.
        &gt;&gt;&gt; game = WerewolfGame([&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;], &quot;a&quot;)
        You are a werewolf!
        &gt;&gt;&gt; game.your_name
        &#x27;a&#x27;
        &gt;&gt;&gt; game.play(&quot;b&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; len(game.werewolves)
        1
        &gt;&gt;&gt; len(game.villagers)
        4
        &gt;&gt;&gt; game.play(&quot;c&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; game.play(&quot;d&quot;)
        &#x27;Keep playing!&#x27;
        &gt;&gt;&gt; game.play(&quot;a&quot;)
        &#x27;Villagers win!&#x27;
        &gt;&gt;&gt; game.werewolves
        []
        &gt;&gt;&gt; len(game.villagers)
        2
        &quot;&quot;&quot;
        if len(players) &lt; 4:
            raise Exception(&quot;Not enough players!&quot;)
        names = players[0:2]
        self.your_name = your_name
        self.werewolves = [Werewolf(self, w) for w in names]
        self.villagers = [Villager(self, p) for p in players if p not in names]
        self.name_to_player = {}

        for werewolf in self.werewolves:
            self.name_to_player[werewolf.name] = werewolf

        for villager in self.villagers:
            self.name_to_player[villager.name] = villager

        player = self.name_to_player[your_name]
        player.reveal_player_type()

        self.state = &quot;night&quot;

    def play(self, vote):
        &quot;&quot;&quot;
        While the game is still being played, make a move. vote is the player 
        who you vote for, because you believe they are on the opposing team. 
        You can continue playing until either the villagers or the werewolves win.
        &quot;&quot;&quot;
        self.make_move(vote)
        if not self.check_if_end_of_game():
            return &quot;Keep playing!&quot;
        else:
            if len(self.werewolves) == 0:
                return &quot;Villagers win!&quot;
            elif len(self.werewolves) &gt; len(self.villagers):
                return &quot;Werewolves win!&quot;

    def make_move(self, vote):
        &quot;&quot;&quot;
        Every player votes (players arbitrarily vote for themselves). Then, 
        if the state of the game is day, remove the player with the most votes 
        overall, and set the state to night. If the state of the game is night, 
        remove the player with the most votes by werewolves, and set the state to day.
        &quot;&quot;&quot;
        votes = []
        werewolf_votes = []

        if self.state == &quot;night&quot;:
            werewolf_votes.append(vote)
        votes.append(vote)

        for player in self.name_to_player:
            if self.state == &quot;night&quot; and isinstance(player, Werewolf(name)):
                werewolf_votes.append(player)
            votes.append(player)

        if self.state == &quot;day&quot;:
            majority_vote = get_most_common_element(votes)
            self.state = &quot;night&quot;
        elif self.state == &quot;night&quot;:
            majority_vote = get_most_common_element(werewolf_votes)
            self.state = &quot;day&quot;

        if majority_vote in self.name_to_player:
            self.remove_player(majority_vote)
        else:
            raise Exception(&quot;Invalid player.&quot;)

    def remove_player(player_to_remove):
        &quot;&quot;&quot;
        Set the player with the majority vote to inactive, and remove it from 
        its respective list of players.
        &quot;&quot;&quot;
        player = self.name_to_player[player_to_remove]
        self.active = False

        if player in self.werewolves:
            self.werewolves.remove(player)
        elif player in self.villagers:
            self.villagers.remove(player)
        else:
            print(&quot;Player already removed!&quot;)

    def check_if_end_of_game(self):
        &quot;&quot;&quot;
        Returns True if the game is over, and False if it is not. The game is over when 
        there are no werewolves remaining, or if there are more werewolves than villagers.
        &quot;&quot;&quot;

        if len(WerewolfGame.werewolves) == 0:
            return True
        elif len(WerewolfGame.werewolves) &gt; len(WerewolfGame.villagers):
            return True
        else:
            return False</code></pre>

</div>
    <button id='9' class='toggleButton'>
    Toggle Solution<noscript> (enable JavaScript)</noscript>
    </button>
    

<p>There are no OK tests for this question! However, it will still be graded as part of the lab, so be sure that your solution works before submitting!</p>


  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#inheritance">Inheritance</a></li>
  <ul>
  <li><a href="#q1">Question 1: Player</a></li>
  <li><a href="#q2">Question 2: Game</a></li>
  <li><a href="#q3">Question 3: New Players</a></li>
  <li><a href="#q4">Question 4: Quidditch</a></li>
</ul>

  <li><a href="#preparing-for-project-2-debugging">Preparing for Project 2: Debugging</a></li>
  <ul>
  <li><a href="#q5">Question 5: Werewolf</a></li>
</ul>

</ul>

    </nav>
  </div>

</div>
    </div>
    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/fa19/assets/js/bootstrap.min.js"></script>
    <!-- TODO: Move to specific pages... -->
    <script src="/fa19/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>
<script src="//code.jquery.com/jquery-latest.js"></script>
<script>
  $(function() {
    if (new Date("11/30/2019") < new Date()) {
      $('.toggleButton').css('display', 'inline-block');
      $('.toggleButton').click(function() {
        var solution_id = $(this).attr('id');
        $('div.' + solution_id).slideToggle(600);
      });
    }
    // Always display these toggle buttons
    $('.toggleButtonShow').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
  });
</script>
  </body>
</html>
