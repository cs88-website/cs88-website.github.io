<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="description" content ="CS88: Computational Structures in Data Science" />
    <meta name="keywords" content ="CS88, Computer Science, Data Science, Programming, Berkeley, EECS" />
    <meta name="author" content ="Michael Ball, Amir Shahatit, Alex Kassil, Lyric Yu, Julia Yu, Srinath Goli, Sophia Qin, Brian Mi, Alec Kan, John Yang" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <link rel="stylesheet" href="/fa19/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/fa19/assets/css/style.css">
    <link rel="icon" href="/fa19/assets/images/favicon.ico">
    <link rel="stylesheet" href="/fa19/assets/css/mono-blue.css">

    <link rel="stylesheet" type="text/css" href="/fa19/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="/fa19/assets/css/hw.css"/>


    <title>Homework 10 | CS 88 Fall 2019</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Nav Menu" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/fa19/">CS 88</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/fa19/">Calendar</a></li>
            <li><a href="/fa19/articles/resources.html">Resources</a></li>
            <li><a href="/fa19/weekly-schedule.html">Weekly Schedule</a></li>
            <li><a href="/fa19/articles/about.html">Course Information</a></li>
            <li><a href="/fa19/staff.html">Staff</a></li>
            <!--- <li><a href="/fa19/tutoring.html">Tutoring</a></li> -->
          </ul>
        </div>
      </div>
    </nav>

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <h1><span class="content-title-brand">Homework 10</span></h1>
    </div>

    <p><i>Due at 11:59:59 pm on Thursday, 11/21/2019.</i></p>

<h2>Instructions</h2>

<p>Download <a href="hw10.zip"> hw10.zip</a>.
    Inside the archive, you will find starter files for the questions in this homework,
    along with a copy of the OK autograder.</p>

<p><strong>Submission:</strong> When you are done, submit with <code>python3 ok --submit</code>. You may submit more than once before the deadline; only the final submission will be scored. Check that you have successfully submitted your code on <a href="https://okpy.org">okpy.org</a>. See <a href="https://cs61a.org/articles/using-ok.html">this article</a> for more instructions on okpy and submitting assignments.</p>

<p><strong>Readings:</strong> This homework relies on following references:</p>

<ul>
  <li><a href="http://composingprograms.com/pages/29-recursive-objects.html">Section 2.9</a></li>
</ul>

    


<h2 id="more-practice-with-trees">More Practice with Trees!</h2>


<h3 class="question" id="q1">Question 1: Cumulative Sum</h3>

<p>Write a function <code>cumulative_sum</code> that returns a new <code>Tree</code>, where each entry is the sum of all entries in the corresponding subtree of the old <code>Tree</code>.</p>

<solution>

<pre><code>def cumulative_sum(t):
    &quot;&quot;&quot;Return a new Tree, where each entry is the sum of all entries in the
    corresponding subtree of t.

    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative = cumulative_sum(t)
    &gt;&gt;&gt; t
    Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative
    Tree(16, [Tree(8, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative_sum(Tree(1))
    Tree(1)
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q cumulative_sum</code></pre>

<h3 class="question" id="q2">Question 2: Add Leaves</h3>

<p>Implement <code>add_d_leaves</code>, a function that takes in a <code>Tree</code> instance <code>t</code> and
mutates it so that at each depth <code>d</code> in the tree, <code>d</code> leaves with labels <code>v</code>
are added to each node at that depth. For example, we want to add 1 leaf with
<code>v</code> in it to each node at depth 1, 2 leaves to each node at depth 2, and so on.</p>

<p>Recall that the depth of a node is the number of edges from that node to the
root, so the depth of the root is 0. The leaves should be added to the end of
the list of branches.</p>

<solution>

<pre><code>def add_d_leaves(t, v):
    &quot;&quot;&quot;Add d leaves containing v to each node at every depth d.

    &gt;&gt;&gt; t1 = Tree(1, [Tree(3)])
    &gt;&gt;&gt; add_d_leaves(t1, 4)
    &gt;&gt;&gt; t1
    Tree(1, [Tree(3, [Tree(4)])])
    &gt;&gt;&gt; t2 = Tree(2, [Tree(5), Tree(6)])
    &gt;&gt;&gt; t3 = Tree(3, [t1, Tree(0), t2])
    &gt;&gt;&gt; add_d_leaves(t3, 10)
    &gt;&gt;&gt; print(t3)
    3
      1
        3
          4
            10
            10
            10
          10
          10
        10
      0
        10
      2
        5
          10
          10
        6
          10
          10
        10
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q add_d_leaves</code></pre>

</p>


<h2 id="more-practice-with-linked-lists">More Practice with Linked Lists!</h2>


<h3 class="question" id="q3">Question 3: Deep Map</h3>

<p>Implement <code>deep_map</code>, which takes a function <code>f</code> and a <code>link</code>. It returns a
<em>new</em> linked list with the same structure as <code>link</code>, but with <code>f</code> applied to any
element within <code>link</code> or any <code>Link</code> instance contained in <code>link</code>.</p>

<p>The <code>deep_map</code> function should recursively apply <code>fn</code> to each of that
<code>Link</code>'s elements rather than to that <code>Link</code> itself.</p>

<p><em>Hint</em>: You may find the built-in <code>isinstance</code> function useful.</p>

<solution>

<pre><code>def deep_map(f, link):
    &quot;&quot;&quot;Return a Link with the same structure as link but with fn mapped over
    its elements. If an element is an instance of a linked list, recursively
    apply f inside that linked list as well.

    &gt;&gt;&gt; s = Link(1, Link(Link(2, Link(3)), Link(4)))
    &gt;&gt;&gt; print_link(deep_map(lambda x: x * x, s))
    &lt;1 &lt;4 9&gt; 16&gt;
    &gt;&gt;&gt; print_link(s) # unchanged
    &lt;1 &lt;2 3&gt; 4&gt;
    &gt;&gt;&gt; print_link(deep_map(lambda x: 2 * x, Link(s, Link(Link(Link(5))))))
    &lt;&lt;2 &lt;4 6&gt; 8&gt; &lt;&lt;10&gt;&gt;&gt;
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q deep_map</code></pre>

<h3 class="question" id="q4">Question 4: Every Other</h3>

<p>Implement <code>every_other</code>, which takes a linked list <code>s</code>. It mutates <code>s</code> such
that all of the odd-indexed elements (using 0-based indexing) are removed from
the list. For example:</p>

<pre><code>&gt;&gt;&gt; s = Link(&#x27;a&#x27;, Link(&#x27;b&#x27;, Link(&#x27;c&#x27;, Link(&#x27;d&#x27;))))
&gt;&gt;&gt; every_other(s)
&gt;&gt;&gt; s.first
&#x27;a&#x27;
&gt;&gt;&gt; s.rest.first
&#x27;c&#x27;
&gt;&gt;&gt; s.rest.rest is Link.empty
True</code></pre>

<p>If <code>s</code> contains fewer than two elements, <code>s</code> remains unchanged.</p>

<blockquote><p>Do not return anything! <code>every_other</code> should mutate the original list.</p></blockquote>

<solution>

<pre><code>def every_other(s):
    &quot;&quot;&quot;Mutates a linked list so that all the odd&#x2d;indiced elements are removed
    (using 0&#x2d;based indexing).

    &gt;&gt;&gt; s = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; every_other(s)
    &gt;&gt;&gt; s
    Link(1, Link(3))
    &gt;&gt;&gt; odd_length = Link(5, Link(3, Link(1)))
    &gt;&gt;&gt; every_other(odd_length)
    &gt;&gt;&gt; odd_length
    Link(5, Link(1))
    &gt;&gt;&gt; singleton = Link(4)
    &gt;&gt;&gt; every_other(singleton)
    &gt;&gt;&gt; singleton
    Link(4)
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre><code>python3 ok -q every_other</code></pre>


  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#more-practice-with-trees">More Practice with Trees!</a></li>
  <ul>
  <li><a href="#q1">Question 1: Cumulative Sum</a></li>
  <li><a href="#q2">Question 2: Add Leaves</a></li>
</ul>

  <li><a href="#more-practice-with-linked-lists">More Practice with Linked Lists!</a></li>
  <ul>
  <li><a href="#q3">Question 3: Deep Map</a></li>
  <li><a href="#q4">Question 4: Every Other</a></li>
</ul>

</ul>

    </nav>
  </div>

</div>
    </div>
    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/fa19/assets/js/bootstrap.min.js"></script>
    <!-- TODO: Move to specific pages... -->
    <script src="/fa19/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>

  </body>
</html>
